<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: Innate::Helper::Aspect</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">Innate::Helper::Aspect</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../files/lib/innate/helper/aspect_rb.html">
                lib/innate/helper/aspect.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Provides before/after wrappers for actions
</p>
<p>
This helper is essential for proper working of {<a
href="../Action.html#M000449">Action#render</a>}.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000418">ancestral_aop</a>&nbsp;&nbsp;
      <a href="#M000419">aspect_call</a>&nbsp;&nbsp;
      <a href="#M000420">aspect_wrap</a>&nbsp;&nbsp;
      <a href="#M000417">included</a>&nbsp;&nbsp;
      <a href="#M000421">wrap_action_call</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Module <a href="Aspect/SingletonMethods.html" class="link">Innate::Helper::Aspect::SingletonMethods</a><br />

    </div>

    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">AOP</td>
          <td>=</td>
          <td class="context-item-value">Hash.new{|h,k| h[k] = Hash.new{|hh,kk| hh[kk] = {} }}</td>
        </tr>
        </table>
      </div>
    </div>



      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000418" class="method-detail">
        <a name="M000418"></a>

        <div class="method-heading">
          <a href="Aspect.src/M000418.html" target="Code" class="method-signature"
            onclick="popupCode('Aspect.src/M000418.html');return false;">
          <span class="method-name">ancestral_aop</span><span class="method-args">(from)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Consider objects that have <a href="Aspect.html">Aspect</a> <a
href="Aspect.html#M000417">included</a>
</p>
        </div>
      </div>

      <div id="method-M000417" class="method-detail">
        <a name="M000417"></a>

        <div class="method-heading">
          <a href="Aspect.src/M000417.html" target="Code" class="method-signature"
            onclick="popupCode('Aspect.src/M000417.html');return false;">
          <span class="method-name">included</span><span class="method-args">(into)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000419" class="method-detail">
        <a name="M000419"></a>

        <div class="method-heading">
          <a href="Aspect.src/M000419.html" target="Code" class="method-signature"
            onclick="popupCode('Aspect.src/M000419.html');return false;">
          <span class="method-name">aspect_call</span><span class="method-args">(position, name)</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000420" class="method-detail">
        <a name="M000420"></a>

        <div class="method-heading">
          <a href="Aspect.src/M000420.html" target="Code" class="method-signature"
            onclick="popupCode('Aspect.src/M000420.html');return false;">
          <span class="method-name">aspect_wrap</span><span class="method-args">(action) {|unless method = action.name| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
        </div>
      </div>

      <div id="method-M000421" class="method-detail">
        <a name="M000421"></a>

        <div class="method-heading">
          <a href="Aspect.src/M000421.html" target="Code" class="method-signature"
            onclick="popupCode('Aspect.src/M000421.html');return false;">
          <span class="method-name">wrap_action_call</span><span class="method-args">(action, &amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This awesome piece of hackery implements action AOP.
</p>
<p>
The so-called aspects are simply methods that may yield the next aspect in
the chain, this is similar to racks concept of middleware, but instead of
initializing with an app we simply pass a block that may be yielded with
the action being processed.
</p>
<p>
This gives us things like logging, caching, aspects, authentication, etc.
</p>
<p>
Add the name of your method to the trait[:wrap] to add your own method to
the <a href="Aspect.html#M000421">wrap_action_call</a> chain.
</p>
<p>
@example adding your method
</p>
<pre>
  class MyNode
    Innate.node '/'

    private

    def wrap_logging(action)
      Innate::Log.info(&quot;Executing #{action.name}&quot;)
      yield
    end

    trait[:wrap]
  end
</pre>
<p>
methods may register themself in the trait[:wrap] and will be called in
left-to-right order, each being passed the action instance and a block that
they have to yield to continue the chain.
</p>
<p>
@param [<a href="../Action.html">Action</a>] action instance that is being
passed to every registered method @param [Proc] block contains the
instructions to call the action method if any
</p>
<p>
@see <a href="../Action.html#M000449">Action#render</a> @author manveru
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>